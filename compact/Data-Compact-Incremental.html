<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Compact.Incremental</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Compact-Incremental.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Compact-Incremental.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">compact-1.0.0.0: In memory storage of deeply evaluated data structure</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) The University of Glasgow 2001-2009
                (c) Giovanni Campagna &lt;gcampagn@cs.stanford.edu&gt; 2014</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>libraries@haskell.org</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>non-portable (GHC Extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Compact.Incremental</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides a data structure, called a Compact, for holding
 a set of fully evaluated Haskell values in a consecutive block of
 memory.</p><p>As the data fully evaluated and pure (thus immutable), it maintains
 the invariant that no memory reference exist from objects inside the
 Compact to objects outside, thus allowing very fast garbage collection
 (at the expense of increased memory usage, because the entire set of
 object is kept alive if any object is alive).</p><p>This is similar to Data.Compact, but it supports incremental evaluation
 into Compact structures.</p><p><em>Since: 1.0.0</em></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Compact">Compact</a> a</li><li class="src short"><a href="#v:compactGetRoot">compactGetRoot</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; a</li><li class="src short"><a href="#v:compactResize">compactResize</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:compactContains">compactContains</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:compactContainsAny">compactContainsAny</a> :: a -&gt; <a href="../base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:compactNew">compactNew</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactNewAt">compactNewAt</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactNewSmall">compactNewSmall</a> :: a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAppendOne">compactAppendOne</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAppendRecursively">compactAppendRecursively</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAppendEvaled">compactAppendEvaled</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><a href="#v:compactAppendSmall">compactAppendSmall</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><span class="keyword">class</span> <a href="#t:Compactable">Compactable</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:compact">compact</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li></ul></li><li class="src short"><a href="#v:defaultCompactNFData">defaultCompactNFData</a> :: <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:SerializedCompact">SerializedCompact</a> a = <a href="#v:SerializedCompact">SerializedCompact</a> {<ul class="subs"><li><a href="#v:serializedCompactGetBlockList">serializedCompactGetBlockList</a> :: [(<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> a, <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a>)]</li><li><a href="#v:serializedCompactGetRoot">serializedCompactGetRoot</a> :: <a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> a</li></ul>}</li><li class="src short"><a href="#v:withCompactPtrs">withCompactPtrs</a> :: (<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> c) =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; (<a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> c) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> c</li><li class="src short"><a href="#v:compactImport">compactImport</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; (<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a))</li><li class="src short"><a href="#v:compactImportTrusted">compactImportTrusted</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; (<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a))</li><li class="src short"><a href="#v:compactImportByteStrings">compactImportByteStrings</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; [<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>] -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a))</li><li class="src short"><a href="#v:compactImportByteStringsTrusted">compactImportByteStringsTrusted</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; [<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>] -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a))</li><li class="src short"><a href="#v:compactInitForSymbols">compactInitForSymbols</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:compactBuildSymbolTable">compactBuildSymbolTable</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Compact" class="def">Compact</a> a <a href="src/Data-Compact-Imp.html#Compact" class="link">Source</a></p><div class="doc"><p>A pointer to an object that lives in a compact region.</p></div></div><div class="top"><p class="src"><a name="v:compactGetRoot" class="def">compactGetRoot</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; a <a href="src/Data-Compact-Imp.html#compactGetRoot" class="link">Source</a></p><div class="doc"><p>Returns the underlying object pointer of a compact pointer.</p></div></div><div class="top"><p class="src"><a name="v:compactResize" class="def">compactResize</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Compact-Imp.html#compactResize" class="link">Source</a></p><div class="doc"><p>Resizes a compact region to a new size.  Existing data is preserved.</p></div></div><div class="top"><p class="src"><a name="v:compactContains" class="def">compactContains</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Data-Compact-Imp.html#compactContains" class="link">Source</a></p><div class="doc"><p>Tests if <code>a</code> lives in the compact region <code>Compact b</code>.</p></div></div><div class="top"><p class="src"><a name="v:compactContainsAny" class="def">compactContainsAny</a> :: a -&gt; <a href="../base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/Data-Compact-Imp.html#compactContainsAny" class="link">Source</a></p><div class="doc"><p>Tests if <code>a</code> is in compact normal form (i.e. is in any compact region)</p></div></div><div class="top"><p class="src"><a name="v:compactNew" class="def">compactNew</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactNew" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactNewAt" class="def">compactNewAt</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactNewAt" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactNewSmall" class="def">compactNewSmall</a> :: a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Imp.html#compactNewSmall" class="link">Source</a></p><div class="doc"><p>Creates a &quot;fake&quot; compact region suitable for storing very small
 objects, where actually trying to make them contiguous is not profitable.</p></div></div><div class="top"><p class="src"><a name="v:compactAppendOne" class="def">compactAppendOne</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactAppendOne" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactAppendRecursively" class="def">compactAppendRecursively</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactAppendRecursively" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactAppendEvaled" class="def">compactAppendEvaled</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactAppendEvaled" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactAppendSmall" class="def">compactAppendSmall</a> :: <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compactAppendSmall" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Compactable" class="def">Compactable</a> a <span class="keyword">where</span> <a href="src/Data-Compact-Incremental.html#Compactable" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:compact" class="def">compact</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#compact" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Compactable" class="caption collapser" onclick="toggleSection('i:Compactable')">Instances</p><div id="section.i:Compactable" class="show"><table><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/GHC-Exts.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/GHC-Exts.html#t:Float">Float</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/Prelude.html#t:Integer">Integer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> [a]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> b) =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (<a href="../base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> b) =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (a, b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> b, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> c) =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (a, b, c)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> b, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> c, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> d) =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (a, b, c, d)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> b, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> c, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> d, <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> e) =&gt; <a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> (a, b, c, d, e)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultCompactNFData" class="def">defaultCompactNFData</a> :: <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> a =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> b -&gt; a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a) <a href="src/Data-Compact-Incremental.html#defaultCompactNFData" class="link">Source</a></p><div class="doc"><p><code><a href="Data-Compact-Incremental.html#v:defaultCompactNFData">defaultCompactNFData</a></code>: a default implementation for compact suitable
 | for NFData instances</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SerializedCompact" class="def">SerializedCompact</a> a <a href="src/Data-Compact-Imp.html#SerializedCompact" class="link">Source</a></p><div class="doc"><p>A metadata structure which represents a compact region as a (list) of
 pointers to memory regions (with their lengths), with a distinguished pointer
 representing the root of the region.  This structure is transmitted out of
 band along with the actual contents of the regions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SerializedCompact" class="def">SerializedCompact</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:serializedCompactGetBlockList" class="def">serializedCompactGetBlockList</a> :: [(<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> a, <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a>)]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:serializedCompactGetRoot" class="def">serializedCompactGetRoot</a> :: <a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:withCompactPtrs" class="def">withCompactPtrs</a> :: (<a href="Data-Compact-Incremental.html#t:Compactable">Compactable</a> a, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> c) =&gt; <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; (<a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> c) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> c <a href="src/Data-Compact-Incremental.html#withCompactPtrs" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:compactImport" class="def">compactImport</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; (<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)) <a href="src/Data-Compact-Imp.html#compactImport" class="link">Source</a></p><div class="doc"><p>Given a <code><a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a></code> data structure, as well as a &quot;fill function&quot; which
 loads data to the address 'Ptr b', import a compact region into Haskell.
 We're parametrized over a fill function so that a user either copy or mmap
 memory into the correct position (the user does not generally know what
 an acceptable address to load the data structure is.)  Note that the values
 passed by 'Ptr b' may vary from the pointers specified in
 <code><a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a></code>; if this is the case, <code><a href="Data-Compact-Incremental.html#v:compactImport">compactImport</a></code> will fix up the
 pointers so they point to the correct location.</p></div></div><div class="top"><p class="src"><a name="v:compactImportTrusted" class="def">compactImportTrusted</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; (<a href="../base-4.8.1.0/Foreign-Ptr.html#t:Ptr">Ptr</a> b -&gt; <a href="../base-4.8.1.0/Data-Word.html#t:Word">Word</a> -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)) <a href="src/Data-Compact-Imp.html#compactImportTrusted" class="link">Source</a></p><div class="doc"><p>Variant of <code><a href="Data-Compact-Incremental.html#v:compactImport">compactImport</a></code> that assumes that the data comes from a source
 we trust.  This runs faster but is less safe.</p></div></div><div class="top"><p class="src"><a name="v:compactImportByteStrings" class="def">compactImportByteStrings</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; [<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>] -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)) <a href="src/Data-Compact-Imp.html#compactImportByteStrings" class="link">Source</a></p><div class="doc"><p>Easier to use version of <code><a href="Data-Compact-Incremental.html#v:compactImport">compactImport</a></code> which works on Bytestrings.</p></div></div><div class="top"><p class="src"><a name="v:compactImportByteStringsTrusted" class="def">compactImportByteStringsTrusted</a> :: <a href="Data-Compact-Incremental.html#t:SerializedCompact">SerializedCompact</a> a -&gt; [<a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>] -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a)) <a href="src/Data-Compact-Imp.html#compactImportByteStringsTrusted" class="link">Source</a></p><div class="doc"><p>Easier to use version of <code><a href="Data-Compact-Incremental.html#v:compactImport">compactImport</a></code> which works on Bytestrings
 and assumes the input is trusted.</p></div></div><div class="top"><p class="src"><a name="v:compactInitForSymbols" class="def">compactInitForSymbols</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Compact-Imp.html#compactInitForSymbols" class="link">Source</a></p><div class="doc"><p>This enables symbol table support for compact regions, which means
 that the compact region can be sent to another binary which is not
 identical to our source binary.  You must still call
 <code><a href="Data-Compact-Incremental.html#v:compactBuildSymbolTable">compactBuildSymbolTable</a></code> before sending.</p></div></div><div class="top"><p class="src"><a name="v:compactBuildSymbolTable" class="def">compactBuildSymbolTable</a> :: <a href="Data-Compact-Incremental.html#t:Compact">Compact</a> a -&gt; <a href="../base-4.8.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Data-Compact-Imp.html#compactBuildSymbolTable" class="link">Source</a></p><div class="doc"><p>Call this prior to transmitting a compact region; this creates
 a symbol table which can be used to fix up info tables at the
 receiving end. (This symbol table is automatically transmitted
 with the rest of the compact region.)</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.0</p></div></body></html>